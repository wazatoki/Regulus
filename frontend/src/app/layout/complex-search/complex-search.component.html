<form [formGroup]='form'>

    <mat-card class="display-item" *ngIf="isShowDisplayItem">
        <mat-card-header>
            <mat-card-title>表示項目</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div>
                <div class="item-list-container">
                    <div cdkDropList #displayItemFromList="cdkDropList" [cdkDropListData]="displayItemList"
                        [cdkDropListConnectedTo]="[displayItemToList]" (cdkDropListDropped)="drop($event)"
                        class="item-list">
                        <div class="item-box" *ngFor="let item of displayItemList; let i=index" cdkDrag>
                            <span>{{item.viewValue}}</span>
                        </div>
                    </div>
                </div>
                <div class="item-list-container">
                    <div cdkDropList #displayItemToList="cdkDropList" [cdkDropListData]="selectedDisplayItemList"
                        [cdkDropListConnectedTo]="[displayItemFromList]" (cdkDropListDropped)="drop($event)"
                        class="item-list">
                        <div class="item-box" *ngFor="let item of selectedDisplayItemList; let i=index" cdkDrag>
                            <span>{{item.viewValue}}</span>
                        </div>
                    </div>
                </div>
            </div>

        </mat-card-content>
    </mat-card>

    <mat-card class="search-condition">
        <mat-card-header>
            <mat-card-title>
                検索条件
                <button type="button" mat-stroked-button (click)="pushSearchCondition()" class="push-search-condition">追加</button>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div cdkDropList class="item-list" (cdkDropListDropped)="drop($event)" formArrayName="searchCondition">
                <div class="item-box" *ngFor="let formGroup of searchConditionFormArray.controls; let i=index" cdkDrag>

                    <app-complex-search-condition-item [fields]="searchConditionList" [formGroup]="formGroup">
                    </app-complex-search-condition-item>
                </div>
            </div>
        </mat-card-content>
    </mat-card>

    <mat-card class="order-condition" *ngIf="isShowOrderCondition">
        <mat-card-header>
            <mat-card-title>
                並び順
                <button type="button" mat-stroked-button (click)="pushOrderCondition()" class="push-order-condition">追加</button>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div cdkDropList class="item-list" (cdkDropListDropped)="drop($event)" formArrayName="orderCondition">
                <div class="item-box" *ngFor="let formGroup of orderConditionFormArray.controls; let i=index" cdkDrag>

                    <app-complex-search-order-item [fields]="orderConditionList" [formGroup]="formGroup">
                    </app-complex-search-order-item>
                </div>
            </div>
        </mat-card-content>
    </mat-card>

    <mat-card class="save-condition" *ngIf="isShowSaveCondition">
        <mat-card-header>
            <mat-card-title>保存条件</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div formGroupName="saveCondition">
                <mat-form-field appearance="standard">
                    <mat-label>検索パターン名称</mat-label>
                    <input matInput formControllName="patternName">
                </mat-form-field>
                <mat-checkbox formControllName="isDisclose">公開する</mat-checkbox>
                <div class="Disclosure-destination" formArrayName="discloseGroups">
                    <div *ngFor="let dg of discloseGroupFormArray.controls; let i=index">
                        <mat-checkbox [formControlName]="i">
                            {{groupList[i].name}}
                        </mat-checkbox>
                    </div>
                </div>
            </div>
        </mat-card-content>
        <mat-card-actions>
            <button type="button" mat-stroked-button (click)="clickSave()">保存</button>
        </mat-card-actions>

    </mat-card>

    <button type="button" mat-stroked-button>検索</button>

</form>